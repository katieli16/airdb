{% extends "main.html" %}
{% block body %}

    {% if type == 'admin' %}
        {% if data %}

            {% if tab == 'flight' %}
            <h2>Flights</h2>
            <div class="container">
            <table>
                <tr>
                    <th>Flight ID</th>
                    <th>Departure Airport</th>
                    <th>Departure Gate</th>
                    <th>Departure Time</th>
                    <th>Arrival Airport</th>
                    <th>Arrival Gate</th>
                    <th>Arrival Time</th>
                    <th>Status</th>
                </tr>
                {% for row in data %}
                </tr>
                    <td>{{ row['flight_id'] }}</td>
                    <td>{{ row['departairport'] }}</td>
                    <td>{{ row['departgate'] }}</td>
                    <td>{{ row['departtime'] }}</td>
                    <td>{{ row['arriveairport'] }}</td>
                    <td>{{ row['arrivegate'] }}</td>
                    <td>{{ row['arrivetime'] }}</td>
                    <td>{{ row['status'] }}</td>
                </tr>
                {% endfor %} 
            </table>
            </div>
            {% endif %}
            
            {% if tab == 'airport' %}
            <h2>Airports</h2>
            <div class="container">
            <table>
                <tr>
                    <th>Airport</th>
                    <th>City</th>
                    <th>Country</th>
                </tr>
                {% for row in data %}
                <tr>
                    <td>{{ row['airport_id'] }}</td>
                    <td>{{ row['city'] }}</td>
                    <td>{{ row['country'] }}</td>
                </tr>
                {% endfor %}
            </table>
            </div>
            {% endif %}

            {% if tab == 'workschedule' %}
            <h2>Work Schedule</h2>
            <div class="container">
            <table>
                <tr>
                    <th>Employee ID</th>
                    <th>Flight ID</th>
                </tr>
            {% for row in data %}
                <tr>
                    <td>{{ row['employee_id'] }}</td>
                    <td>{{ row['flight_id'] }}</td>
                </tr>
            {% endfor %}
            </table>
            <div class="filter">
                <form action="/workscheduleUI" method="GET">
                    <button>Show All</button>
                </form>
            
                <form action="/workscheduleUI" method="GET" >
                    <p>Filter by Employee ID
                        <input type="text" name="e_id" />
                        <input type='submit' name="filteremp" value="Submit"/>
                    </p>
                </form>
            
                <form action="/workscheduleUI" method="GET" >
                    <p>Filter by Flight ID
                        <input type = "text" name = "f_id" />
                        <input type='submit' name="filterflight" value="Submit"/>
                    </p>
                </form>
            
                <form action="/workscheduleUI" method="POST">
                    <p>Add employee <input type = "text" name = "e_id" /> to flight  <input type = "text" name = "f_id" />
                        <input type='submit' name="add" value="Submit"/>
                    </p>
                </form>
            
                 <form action="/workscheduleUI" method="GET">
                    <p>Remove employee  <input type = "text" name = "e_id" />  from flight <input type = "text" name = "f_id" />
                        <input type='submit' name="delete" value="Submit"/>
                    </p>
                </form>
            </div>
            </div>
            {% endif %}
            
            {% if tab == 'employee' %}
            <h2>Employees</h2>
            <div class="container">
            <table>
                <tr>
                    <th>Employee ID</th>
                    <th>Hours</th>
                    <th>Type</th>
                    <th>Wage</th>
                </tr>
                {% for row in data %}
                <tr>
                    <td>{{ row['id'] }}</td>
                    <td>{{ row['hours'] }}</td>
                    <td>{{ row['type'] }}</td>
                    <td>{{ row['wage'] }}</td>
                </tr>
                {% endfor %}
            </table>

            <div class="filter">            
                <form action="employeeUI" method="GET">
                    <button>Show All</button>
                </form>
            
                <form action="/employeeUI" method="POST">
                    <p>Add employee type <input type = "text" name = "type" />  
                    with wage <input type = "text" name = "wage" /> 
                        <input type='submit' name="add" value="Submit"/>
                    </p>
                </form>
            
                 <form action="/employeeUI" method="GET">
                    <p>Delete employee  <input type = "text" name = "e_id" />
                    <input type='submit' name="delete" value="Submit"/>
                    </p>
                </form>
            </div>

            </div>
            {% endif %}

            {% if tab == 'baggage' %}
            <h2>Baggage Directory</h2>
            <div class="container">
            <table>
                <tr>
                    <th>Itinerary ID</th>
                    <th>Bag ID</th>
                    <th>Weight</th>
                </tr>
                {% for row in data %}
                </tr>
                    <td>{{ row['itinerary_id'] }}</td>
                    <td>{{ row['bag_id'] }}</td>
                    <td>{{ row['weight'] }}</td>
                </tr>
                {% endfor %} 
            </table>
            </div>
            {% endif %}

            {% if tab == 'aircraft' %}
            <h2>Fleet</h2>
            <div class="container">
            <table>
                <tr>
                    <th>Aircraft ID</th>
                    <th>Status</th>
                    <th>Last Maintained</th>
                    <th>Airport</th>
                </tr>
                {% for row in data %}
                </tr>
                    <td>{{ row['id'] }}</td>
                    <td>{{ row['status'] }}</td>
                    <td>{{ row['last_maintained'] }}</td>
                    <td>{{ row['airport_id'] }}</td>
                </tr>
                {% endfor %} 
            </table>

            <div class="filter">
                <form action="/aircraftUI" method="GET">
                    <button>Show All</button>
                </form>
            
                <form action="/aircraftUI" method="GET" >
                    <p>Filter by Airport
                        <input type="text" name="airport_id" />
                        <input type='submit' name="filterairport" value="Submit"/>
                    </p>
                </form>
            
                <form action="/aircraftUI" method="GET" >
                    <p>Filter by Status
                        <input type = "text" name = "status" />
                        <input type='submit' name="filterstatus" value="Submit"/>
                    </p>
                </form>
            </div>

            </div>            
            {% endif %}
            
            {% if tab == 'customer' %}
            <h2>Customer Directory</h2>
            <div class="container">
            <table>
                <tr>
                    <th>Flight ID</th>
                    <th>Itinerary ID</th>
                    <th>Customer ID</th>
                    <th> Seat Type </th>
                    <th> Status</th>
                </tr>
                {% for row in data %}
                </tr>
                    <td>{{ row['flight_id'] }}</td>
                    <td>{{ row['itinerary_id'] }}</td>
                    <td>{{ row['customer_id'] }}</td>
                    <td>{{ row['seattype'] }}</td>
                    <td>{{ row['status'] }}</td>
                </tr>
                {% endfor %} 
            </table>
            </div>
            {% endif %}

        {% endif %} <!-- end data -->

         <form action="/main" method="post">
            <button>Clear</button>
        </form>

    {% endif %} <!-- end admin -->

    {% if type == 'user' %}
        {% if data %}
        <div class="container">
            <table>
                <tr>
                    <th>Itinerary #</th>
                    <th>Seat Type</th>
                    <th>Seat Cost</th>
                    <th>Status</th>
                </tr>
            {% for row in data %}
            <tr>
                <td>{{ row['itinerary_id'] }}</td>
                <td>{{ row['seattype'] }}</td>
                <td>{{ row['seatcost'] }}</td>
                <td>{{ row['status'] }}</td>
            </tr>
            {% endfor %}
            </table>
        </div>
        {% endif %}
    {% endif %}        
    
    {% if type == 'none' %}
        <h1>403 FORBIDDEN</h1>
    {% endif %}

{% endblock %}